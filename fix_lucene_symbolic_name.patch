# HG changeset patch
# Parent 87052247afc2111919d290cb94eabefd83979263
diff --git a/pom.xml b/pom.xml
--- a/pom.xml
+++ b/pom.xml
@@ -238,8 +238,10 @@
     <commons-fileupload.version>1.2.2</commons-fileupload.version>
 
     <jline.version>2.9</jline.version>
-    <lucene.version>4.7.0_1</lucene.version>
-    <lucene.osgi-version>4.7.0.1</lucene.osgi-version>
+    <lucene.version>4.8.0_1</lucene.version>
+    <lucene.osgi-version>4.8.0.1</lucene.osgi-version>
+    <lucene-analysis.bundle.symbolic-name>org.apache.lucene.analysis</lucene-analysis.bundle.symbolic-name>
+    <lucene-core.bundle.symbolic-name>org.apache.lucene.core</lucene-core.bundle.symbolic-name>
     <!--
         Since we use felix framework at runtime, try to avoid introducing an
          extra dependency for OSGi API-only (e.g. org.osgi:org.osgi.core) in order to
diff --git a/vm-heap-analysis/distribution/thermostat-plugin.xml b/vm-heap-analysis/distribution/thermostat-plugin.xml
--- a/vm-heap-analysis/distribution/thermostat-plugin.xml
+++ b/vm-heap-analysis/distribution/thermostat-plugin.xml
@@ -92,8 +92,8 @@
         <bundle><symbolic-name>org.jboss.netty</symbolic-name><version>${netty.version}</version></bundle>
         <bundle><symbolic-name>org.jfree.jcommon</symbolic-name><version>${jcommon.osgi.version}</version></bundle>
         <bundle><symbolic-name>org.jfree.jfreechart</symbolic-name><version>${jfreechart.osgi.version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene</symbolic-name><version>${lucene.osgi-version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene-analyzers-common</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-core.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-analysis.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
       </bundles>
     </command>
     <command>
@@ -151,8 +151,8 @@
         <bundle><symbolic-name>org.jboss.netty</symbolic-name><version>${netty.version}</version></bundle>
         <bundle><symbolic-name>org.jfree.jcommon</symbolic-name><version>${jcommon.osgi.version}</version></bundle>
         <bundle><symbolic-name>org.jfree.jfreechart</symbolic-name><version>${jfreechart.osgi.version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene</symbolic-name><version>${lucene.osgi-version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene-analyzers-common</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-core.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-analysis.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
       </bundles>
     </command>
     <command>
@@ -213,8 +213,8 @@
         <bundle><symbolic-name>org.jboss.netty</symbolic-name><version>${netty.version}</version></bundle>
         <bundle><symbolic-name>org.jfree.jcommon</symbolic-name><version>${jcommon.osgi.version}</version></bundle>
         <bundle><symbolic-name>org.jfree.jfreechart</symbolic-name><version>${jfreechart.osgi.version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene</symbolic-name><version>${lucene.osgi-version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene-analyzers-common</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-core.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-analysis.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
       </bundles>
     </command>
     <command>
@@ -269,8 +269,8 @@
         <bundle><symbolic-name>org.jboss.netty</symbolic-name><version>${netty.version}</version></bundle>
         <bundle><symbolic-name>org.jfree.jcommon</symbolic-name><version>${jcommon.osgi.version}</version></bundle>
         <bundle><symbolic-name>org.jfree.jfreechart</symbolic-name><version>${jfreechart.osgi.version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene</symbolic-name><version>${lucene.osgi-version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene-analyzers-common</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-core.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-analysis.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
       </bundles>
     </command>
     <command>
@@ -325,8 +325,8 @@
         <bundle><symbolic-name>org.jboss.netty</symbolic-name><version>${netty.version}</version></bundle>
         <bundle><symbolic-name>org.jfree.jcommon</symbolic-name><version>${jcommon.osgi.version}</version></bundle>
         <bundle><symbolic-name>org.jfree.jfreechart</symbolic-name><version>${jfreechart.osgi.version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene</symbolic-name><version>${lucene.osgi-version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene-analyzers-common</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-core.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-analysis.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
       </bundles>
     </command>
     <command>
@@ -381,8 +381,8 @@
         <bundle><symbolic-name>org.jboss.netty</symbolic-name><version>${netty.version}</version></bundle>
         <bundle><symbolic-name>org.jfree.jcommon</symbolic-name><version>${jcommon.osgi.version}</version></bundle>
         <bundle><symbolic-name>org.jfree.jfreechart</symbolic-name><version>${jfreechart.osgi.version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene</symbolic-name><version>${lucene.osgi-version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene-analyzers-common</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-core.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-analysis.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
       </bundles>
     </command>
     <command>
@@ -430,8 +430,8 @@
         <bundle><symbolic-name>org.jboss.netty</symbolic-name><version>${netty.version}</version></bundle>
         <bundle><symbolic-name>org.jfree.jcommon</symbolic-name><version>${jcommon.osgi.version}</version></bundle>
         <bundle><symbolic-name>org.jfree.jfreechart</symbolic-name><version>${jfreechart.osgi.version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene</symbolic-name><version>${lucene.osgi-version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene-analyzers-common</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-core.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-analysis.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
       </bundles>
     </command>
   </commands>
@@ -446,8 +446,8 @@
         <bundle><symbolic-name>com.redhat.thermostat.common.command</symbolic-name><version>${project.version}</version></bundle>
         <bundle><symbolic-name>com.redhat.thermostat.client.core</symbolic-name><version>${project.version}</version></bundle>
         <bundle><symbolic-name>com.redhat.thermostat.client.swing</symbolic-name><version>${project.version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene</symbolic-name><version>${lucene.osgi-version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene-analyzers-common</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-core.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-analysis.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
       </bundles>
     </extension>
     <extension>
@@ -455,8 +455,8 @@
       <bundles>
         <bundle><symbolic-name>com.redhat.thermostat.vm.heap.analysis.common</symbolic-name><version>${project.version}</version></bundle>
         <bundle><symbolic-name>com.redhat.thermostat.vm.heap.analysis.agent</symbolic-name><version>${project.version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene</symbolic-name><version>${lucene.osgi-version}</version></bundle>
-        <bundle><symbolic-name>org.apache.servicemix.bundles.lucene-analyzers-common</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-core.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
+        <bundle><symbolic-name>${lucene-analysis.bundle.symbolic-name}</symbolic-name><version>${lucene.osgi-version}</version></bundle>
       </bundles>
     </extension>
   </extensions>
